<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.6 Application in R | Experimental Methods in Political Science</title>
  <meta name="description" content="2.6 Application in R | Experimental Methods in Political Science" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="2.6 Application in R | Experimental Methods in Political Science" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.6 Application in R | Experimental Methods in Political Science" />
  
  
  

<meta name="author" content="Instructor: Katie McCabe" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="overview-of-identification-assumptions.html"/>
<link rel="next" href="design.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<link href="libs/vembedr-0.1.4/css/vembedr.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Course Notes</a>
<ul>
<li class="chapter" data-level="1.1" data-path="rsetup.html"><a href="rsetup.html"><i class="fa fa-check"></i><b>1.1</b> Setup in R</a></li>
<li class="chapter" data-level="1.2" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html"><i class="fa fa-check"></i><b>1.2</b> First Time Working in R and RStudio</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#open-rstudio"><i class="fa fa-check"></i><b>1.2.1</b> Open RStudio</a></li>
<li class="chapter" data-level="1.2.2" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#using-r-as-a-calculator"><i class="fa fa-check"></i><b>1.2.2</b> Using R as a Calculator</a></li>
<li class="chapter" data-level="1.2.3" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#working-in-an-r-script"><i class="fa fa-check"></i><b>1.2.3</b> Working in an R Script</a></li>
<li class="chapter" data-level="1.2.4" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#preparing-your-r-script"><i class="fa fa-check"></i><b>1.2.4</b> Preparing your R script</a></li>
<li class="chapter" data-level="1.2.5" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#executing-commands-in-your-r-script"><i class="fa fa-check"></i><b>1.2.5</b> Executing Commands in your R script</a></li>
<li class="chapter" data-level="1.2.6" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#objects"><i class="fa fa-check"></i><b>1.2.6</b> Objects</a></li>
<li class="chapter" data-level="1.2.7" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#practice-with-r-scripts"><i class="fa fa-check"></i><b>1.2.7</b> Practice with R Scripts</a></li>
<li class="chapter" data-level="1.2.8" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#loading-data-into-r"><i class="fa fa-check"></i><b>1.2.8</b> Loading data into R</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>1.3</b> R Markdown</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="r-markdown.html"><a href="r-markdown.html#how-to-get-setup-in-rmarkdown"><i class="fa fa-check"></i><b>1.3.1</b> How to get setup in RMarkdown</a></li>
<li class="chapter" data-level="1.3.2" data-path="r-markdown.html"><a href="r-markdown.html#additional-rmarkdown-resources"><i class="fa fa-check"></i><b>1.3.2</b> Additional RMarkdown resources</a></li>
<li class="chapter" data-level="1.3.3" data-path="r-markdown.html"><a href="r-markdown.html#practice-with-r-markdown"><i class="fa fa-check"></i><b>1.3.3</b> Practice with R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="what-are-experiments.html"><a href="what-are-experiments.html"><i class="fa fa-check"></i><b>1.4</b> What are experiments?</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="causaleffects.html"><a href="causaleffects.html"><i class="fa fa-check"></i><b>2</b> Causal Effects</a>
<ul>
<li class="chapter" data-level="2.1" data-path="potential-outcomes-framework.html"><a href="potential-outcomes-framework.html"><i class="fa fa-check"></i><b>2.1</b> Potential Outcomes Framework</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="potential-outcomes-framework.html"><a href="potential-outcomes-framework.html#average-treatment-effect"><i class="fa fa-check"></i><b>2.1.1</b> Average Treatment Effect</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="fundamental-problem-of-causal-inference.html"><a href="fundamental-problem-of-causal-inference.html"><i class="fa fa-check"></i><b>2.2</b> Fundamental Problem of Causal Inference</a></li>
<li class="chapter" data-level="2.3" data-path="identification-strategy.html"><a href="identification-strategy.html"><i class="fa fa-check"></i><b>2.3</b> Identification strategy</a></li>
<li class="chapter" data-level="2.4" data-path="difference-in-means-estimator.html"><a href="difference-in-means-estimator.html"><i class="fa fa-check"></i><b>2.4</b> Difference in Means Estimator</a></li>
<li class="chapter" data-level="2.5" data-path="overview-of-identification-assumptions.html"><a href="overview-of-identification-assumptions.html"><i class="fa fa-check"></i><b>2.5</b> Overview of identification assumptions</a></li>
<li class="chapter" data-level="2.6" data-path="application-in-r.html"><a href="application-in-r.html"><i class="fa fa-check"></i><b>2.6</b> Application in R</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="application-in-r.html"><a href="application-in-r.html#loading-the-data"><i class="fa fa-check"></i><b>2.6.1</b> Loading the data</a></li>
<li class="chapter" data-level="2.6.2" data-path="application-in-r.html"><a href="application-in-r.html#variable-classes"><i class="fa fa-check"></i><b>2.6.2</b> Variable classes</a></li>
<li class="chapter" data-level="2.6.3" data-path="application-in-r.html"><a href="application-in-r.html#exploring-treatment-and-control-groups"><i class="fa fa-check"></i><b>2.6.3</b> Exploring Treatment and Control Groups</a></li>
<li class="chapter" data-level="2.6.4" data-path="application-in-r.html"><a href="application-in-r.html#means-with-relational-operators"><i class="fa fa-check"></i><b>2.6.4</b> Means with Relational Operators</a></li>
<li class="chapter" data-level="2.6.5" data-path="application-in-r.html"><a href="application-in-r.html#means-with-tidyverse"><i class="fa fa-check"></i><b>2.6.5</b> Means with <code>tidyverse</code></a></li>
<li class="chapter" data-level="2.6.6" data-path="application-in-r.html"><a href="application-in-r.html#ate-with-linear-regression"><i class="fa fa-check"></i><b>2.6.6</b> ATE with linear regression</a></li>
<li class="chapter" data-level="2.6.7" data-path="application-in-r.html"><a href="application-in-r.html#subsetting-data-in-r"><i class="fa fa-check"></i><b>2.6.7</b> Subsetting data in R</a></li>
<li class="chapter" data-level="2.6.8" data-path="application-in-r.html"><a href="application-in-r.html#additional-practice"><i class="fa fa-check"></i><b>2.6.8</b> Additional Practice</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="design.html"><a href="design.html"><i class="fa fa-check"></i><b>3</b> Experimental Design</a>
<ul>
<li class="chapter" data-level="3.1" data-path="designing-an-experiment.html"><a href="designing-an-experiment.html"><i class="fa fa-check"></i><b>3.1</b> Designing an Experiment</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="designing-an-experiment.html"><a href="designing-an-experiment.html#validity"><i class="fa fa-check"></i><b>3.1.1</b> Validity</a></li>
<li class="chapter" data-level="3.1.2" data-path="designing-an-experiment.html"><a href="designing-an-experiment.html#design-space-for-experiments"><i class="fa fa-check"></i><b>3.1.2</b> Design Space for Experiments</a></li>
<li class="chapter" data-level="3.1.3" data-path="designing-an-experiment.html"><a href="designing-an-experiment.html#types-of-designs"><i class="fa fa-check"></i><b>3.1.3</b> Types of Designs</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="using-qualtrics.html"><a href="using-qualtrics.html"><i class="fa fa-check"></i><b>3.2</b> Using Qualtrics</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="using-qualtrics.html"><a href="using-qualtrics.html#experimental-design-with-vignette-experiment"><i class="fa fa-check"></i><b>3.2.1</b> Experimental Design with Vignette Experiment</a></li>
<li class="chapter" data-level="3.2.2" data-path="using-qualtrics.html"><a href="using-qualtrics.html#unique-blocks-per-experimental-condition"><i class="fa fa-check"></i><b>3.2.2</b> Unique blocks per experimental condition</a></li>
<li class="chapter" data-level="3.2.3" data-path="using-qualtrics.html"><a href="using-qualtrics.html#adding-a-randomizer-in-the-survey-flow"><i class="fa fa-check"></i><b>3.2.3</b> Adding a randomizer in the survey flow</a></li>
<li class="chapter" data-level="3.2.4" data-path="using-qualtrics.html"><a href="using-qualtrics.html#using-piped-text-in-randomization"><i class="fa fa-check"></i><b>3.2.4</b> Using Piped Text in Randomization</a></li>
<li class="chapter" data-level="3.2.5" data-path="using-qualtrics.html"><a href="using-qualtrics.html#data-and-analysis"><i class="fa fa-check"></i><b>3.2.5</b> Data and Analysis</a></li>
<li class="chapter" data-level="3.2.6" data-path="using-qualtrics.html"><a href="using-qualtrics.html#additional-bells-and-whistles"><i class="fa fa-check"></i><b>3.2.6</b> Additional Bells and Whistles</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="uncertainty.html"><a href="uncertainty.html"><i class="fa fa-check"></i><b>4</b> Uncertainty</a>
<ul>
<li class="chapter" data-level="4.1" data-path="standard-errors.html"><a href="standard-errors.html"><i class="fa fa-check"></i><b>4.1</b> Standard Errors</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="standard-errors.html"><a href="standard-errors.html#standard-error-of-the-mean"><i class="fa fa-check"></i><b>4.1.1</b> Standard Error of the Mean</a></li>
<li class="chapter" data-level="4.1.2" data-path="standard-errors.html"><a href="standard-errors.html#standard-error-for-a-difference-in-means"><i class="fa fa-check"></i><b>4.1.2</b> Standard error for a difference in means</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="confidence-intervals.html"><a href="confidence-intervals.html"><i class="fa fa-check"></i><b>4.2</b> Confidence Intervals</a></li>
<li class="chapter" data-level="4.3" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html"><i class="fa fa-check"></i><b>4.3</b> Hypothesis Tests</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#t-tests"><i class="fa fa-check"></i><b>4.3.1</b> t-tests</a></li>
<li class="chapter" data-level="4.3.2" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#p-values"><i class="fa fa-check"></i><b>4.3.2</b> p-values</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="empirical-application.html"><a href="empirical-application.html"><i class="fa fa-check"></i><b>4.4</b> Empirical Application</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="empirical-application.html"><a href="empirical-application.html#treatment"><i class="fa fa-check"></i><b>4.4.1</b> Treatment</a></li>
<li class="chapter" data-level="4.4.2" data-path="empirical-application.html"><a href="empirical-application.html#analysis"><i class="fa fa-check"></i><b>4.4.2</b> Analysis</a></li>
<li class="chapter" data-level="4.4.3" data-path="empirical-application.html"><a href="empirical-application.html#heterogeneous-treatment-effects"><i class="fa fa-check"></i><b>4.4.3</b> Heterogeneous Treatment Effects</a></li>
<li class="chapter" data-level="4.4.4" data-path="empirical-application.html"><a href="empirical-application.html#difference-in-proportions"><i class="fa fa-check"></i><b>4.4.4</b> Difference in Proportions</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="randomization-inference.html"><a href="randomization-inference.html"><i class="fa fa-check"></i><b>4.5</b> Randomization Inference</a></li>
<li class="chapter" data-level="4.6" data-path="a-note-on-expectations-and-variance.html"><a href="a-note-on-expectations-and-variance.html"><i class="fa fa-check"></i><b>4.6</b> A Note on Expectations and Variance</a></li>
<li class="chapter" data-level="4.7" data-path="equivalence-of-t-test-and-anova.html"><a href="equivalence-of-t-test-and-anova.html"><i class="fa fa-check"></i><b>4.7</b> Equivalence of t-test and ANOVA</a></li>
<li class="chapter" data-level="4.8" data-path="experimental-design-complications.html"><a href="experimental-design-complications.html"><i class="fa fa-check"></i><b>4.8</b> Experimental Design Complications</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="visualize.html"><a href="visualize.html"><i class="fa fa-check"></i><b>5</b> Visualization</a>
<ul>
<li class="chapter" data-level="5.1" data-path="plotting-average-treatment-effects.html"><a href="plotting-average-treatment-effects.html"><i class="fa fa-check"></i><b>5.1</b> Plotting Average Treatment Effects</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="plotting-average-treatment-effects.html"><a href="plotting-average-treatment-effects.html#ate-using-plot"><i class="fa fa-check"></i><b>5.1.1</b> ATE using <code>plot</code></a></li>
<li class="chapter" data-level="5.1.2" data-path="plotting-average-treatment-effects.html"><a href="plotting-average-treatment-effects.html#ate-with-ggplot"><i class="fa fa-check"></i><b>5.1.2</b> ATE with <code>ggplot</code></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="heterogeneous-treatment-effects-1.html"><a href="heterogeneous-treatment-effects-1.html"><i class="fa fa-check"></i><b>5.2</b> Heterogeneous Treatment Effects</a></li>
<li class="chapter" data-level="5.3" data-path="some-additional-plotting-options.html"><a href="some-additional-plotting-options.html"><i class="fa fa-check"></i><b>5.3</b> Some additional plotting options</a></li>
<li class="chapter" data-level="5.4" data-path="examples-of-arguments-in-plot.html"><a href="examples-of-arguments-in-plot.html"><i class="fa fa-check"></i><b>5.4</b> Examples of arguments in <code>plot</code></a></li>
<li class="chapter" data-level="5.5" data-path="creating-tables-from-r.html"><a href="creating-tables-from-r.html"><i class="fa fa-check"></i><b>5.5</b> Creating Tables from R</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="creating-tables-from-r.html"><a href="creating-tables-from-r.html#additional-formatting-examples"><i class="fa fa-check"></i><b>5.5.1</b> Additional formatting examples</a></li>
<li class="chapter" data-level="5.5.2" data-path="creating-tables-from-r.html"><a href="creating-tables-from-r.html#additional-table-types"><i class="fa fa-check"></i><b>5.5.2</b> Additional Table Types</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Experimental Methods in Political Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="application-in-r" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> Application in R</h2>
<p>Article: “Are Emily and Greg More Employable Than Lakisha and Jamal? A Field Experiment on Labor Market Discrimination” by Bertrand and Mullainathan (2004)</p>
<ul>
<li>Research Question: Does race influence hiring decisions?</li>
<li>What are the potential outcomes?</li>
<li>What is the approach? Audit study: “send fictitious resumes to help-wanted ads in Boston and Chicago newspapers.
<ul>
<li>Treatment: Manipulate perceived race: resumes randomly assigned African-American- or White-sounding names.</li>
<li>Outcomes: Does the resume get a callback?</li>
</ul></li>
</ul>
<p>How should we estimate the average treatment effect?</p>
<div id="loading-the-data" class="section level3" number="2.6.1">
<h3><span class="header-section-number">2.6.1</span> Loading the data</h3>
<p>We will use data from <a href="https://qss.princeton.press/student-resources-for-quantitative-social-science/">Imai (2017)</a> Chapter 2.</p>
<p>Let’s load the data. Note: When we have variables that are text-based categories, we may want to tell R to treat these “strings” of text information as factor variables, a particular type of variable that represents data as a set of nominal (unordered) or ordinal (ordered) categories. We do this with the <code>stringsAsFactors</code> argument.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="application-in-r.html#cb49-1" aria-hidden="true" tabindex="-1"></a>resume <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;resume.csv&quot;</span>, <span class="at">stringsAsFactors =</span> T)</span></code></pre></div>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="application-in-r.html#cb50-1" aria-hidden="true" tabindex="-1"></a>resume <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/ktmccabe/teachingdata/main/resume.csv&quot;</span>,</span>
<span id="cb50-2"><a href="application-in-r.html#cb50-2" aria-hidden="true" tabindex="-1"></a>                   <span class="at">stringsAsFactors =</span> T)</span></code></pre></div>
<p>Variables and Description</p>
<ul>
<li><code>firstname</code>: first name of the fictitious job applicant</li>
<li><code>sex</code>: sex of applicant (female or male)</li>
<li><code>race</code>: race of applicant (black or white)</li>
<li><code>call</code>: whether a callback was made (1 = yes, 0 = no)</li>
</ul>
<p>The data contain 4870 resumes and 4 variables.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="application-in-r.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(resume) <span class="co"># number of rows</span></span></code></pre></div>
<pre><code>## [1] 4870</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="application-in-r.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(resume) <span class="co"># number of columns</span></span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="application-in-r.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(resume) <span class="co"># number of rows and columns</span></span></code></pre></div>
<pre><code>## [1] 4870    4</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="application-in-r.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(resume)</span></code></pre></div>
<pre><code>##   firstname    sex  race call
## 1   Allison female white    0
## 2   Kristen female white    0
## 3   Lakisha female black    0
## 4   Latonya female black    0
## 5    Carrie female white    0
## 6       Jay   male white    0</code></pre>
</div>
<div id="variable-classes" class="section level3" number="2.6.2">
<h3><span class="header-section-number">2.6.2</span> Variable classes</h3>
<p>We can check the class of each variable: Look, we have a new type, a “factor” variable.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="application-in-r.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(resume<span class="sc">$</span>firstname)</span></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="application-in-r.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(resume<span class="sc">$</span>sex)</span></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="application-in-r.html#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(resume<span class="sc">$</span>race)</span></code></pre></div>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="application-in-r.html#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(resume<span class="sc">$</span>call)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<p>Rules of Thumb</p>
<ul>
<li>Usually, we want <code>character</code> variables to store text (e.g., open-ended survey responses)</li>
<li>We want <code>numeric</code> variables to store numbers.</li>
<li>Usually, we want <code>factor</code> variables to store categories.
<ul>
<li>Within R, factor variables assign a number to each category, which is given a label or <code>level</code> in the form of text.</li>
<li>Categories might be ordinal or “ordered” (e.g., Very likely, Somewhat likely, Not likely) or</li>
<li>Unordered (e.g., “male”, “female”)</li>
<li>R won’t know if a factor variable is ordered or unordered. Alas, we have to be smarter than R.</li>
<li>R might think you have a character variable when you want it to be a factor or the reverse.
<ul>
<li>That’s when <code>as.factor()</code> and <code>as.character()</code> are useful.</li>
</ul></li>
</ul></li>
<li>Always check <code>class()</code> to find out the variable type</li>
</ul>
</div>
<div id="exploring-treatment-and-control-groups" class="section level3" number="2.6.3">
<h3><span class="header-section-number">2.6.3</span> Exploring Treatment and Control Groups</h3>
<p>We are going to use several different approaches to calculate our difference in means between treatment and control to help us explore R’s capabilities and common computational approaches.</p>
<p>We can use the <code>table</code> command to see how many observations in our data fall into each category or numerical value.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="application-in-r.html#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Example: how many black vs. white sounding resumes</span></span>
<span id="cb67-2"><a href="application-in-r.html#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(resume<span class="sc">$</span>race)</span></code></pre></div>
<pre><code>## 
## black white 
##  2435  2435</code></pre>
<p>As mentioned, <code>factor</code> variables have levels:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="application-in-r.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(resume<span class="sc">$</span>race)</span></code></pre></div>
<pre><code>## [1] &quot;black&quot; &quot;white&quot;</code></pre>
<p>We can also use the <code>table</code> command to show a crosstabulation: a table that displays the frequency of observations across two variables. <strong><em>Because our outcome variable call is dichotomous and we are interested in the rates of callbacks</em></strong>, we might use a table to display this information. (For outcomes that are continuous, the table approach is less useful.)</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="application-in-r.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Example: how many black vs. white sounding resumes by call backs</span></span>
<span id="cb71-2"><a href="application-in-r.html#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="do">## We can label the two dimensions of the table with the =</span></span>
<span id="cb71-3"><a href="application-in-r.html#cb71-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(<span class="at">calledback =</span> resume<span class="sc">$</span>call, <span class="at">race =</span> resume<span class="sc">$</span>race)</span></code></pre></div>
<pre><code>##           race
## calledback black white
##          0  2278  2200
##          1   157   235</code></pre>
<p>Sometimes we will want to show the proportion instead of the frequency using <code>prop.table</code></p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="application-in-r.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Example: proportion black vs. white sounding resumes by call backs</span></span>
<span id="cb73-2"><a href="application-in-r.html#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Convert to proportion</span></span>
<span id="cb73-3"><a href="application-in-r.html#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="fu">prop.table</span>(<span class="fu">table</span>(<span class="at">calledback =</span> resume<span class="sc">$</span>call, <span class="at">race =</span> resume<span class="sc">$</span>race), <span class="at">margin =</span> <span class="dv">2</span>) <span class="co"># 1 for row sum, 2 for col</span></span></code></pre></div>
<pre><code>##           race
## calledback      black      white
##          0 0.93552361 0.90349076
##          1 0.06447639 0.09650924</code></pre>
<p><strong><em>How can we interpret this crosstabulation?</em></strong></p>
</div>
<div id="means-with-relational-operators" class="section level3" number="2.6.4">
<h3><span class="header-section-number">2.6.4</span> Means with Relational Operators</h3>
<p>Goal: Compare callback rates for white sounding names to black sounding names, so we need to be able to filter by race.</p>
<p>Good news: We have several relational operators in R that evaluate logical statements:</p>
<ul>
<li><code>==, &lt;, &gt;, &lt;=, &gt;=, !=</code></li>
<li>We have a statement and R evaluates it as <code>TRUE</code> or <code>FALSE</code></li>
</ul>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="application-in-r.html#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="do">## for each observation, does the value of race equal &quot;black&quot;?</span></span>
<span id="cb75-2"><a href="application-in-r.html#cb75-2" aria-hidden="true" tabindex="-1"></a>resume<span class="sc">$</span>race <span class="sc">==</span> <span class="st">&quot;black&quot;</span></span></code></pre></div>
<p>By putting this logical statement within <code>[ ]</code>, we are asking R to take the <code>mean()</code> of the variable <code>resume$call</code> for the subset of observations for which this logical statement is <code>TRUE</code>.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="application-in-r.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(resume<span class="sc">$</span>call[resume<span class="sc">$</span>race <span class="sc">==</span> <span class="st">&quot;black&quot;</span>])</span></code></pre></div>
<pre><code>## [1] 0.06447639</code></pre>
<p>Ultimately, each of these paths has led us to a place where we can estimate the average treatment effect by calculation the difference in means: the difference in callback rates for black and white applicants.</p>
<p>We said the ATE = <span class="math inline">\(\bar{Y}(treatment) - \bar{Y}(control)\)</span></p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="application-in-r.html#cb78-1" aria-hidden="true" tabindex="-1"></a>ate <span class="ot">&lt;-</span> <span class="fu">mean</span>(resume<span class="sc">$</span>call[resume<span class="sc">$</span>race <span class="sc">==</span> <span class="st">&quot;black&quot;</span>]) <span class="sc">-</span> </span>
<span id="cb78-2"><a href="application-in-r.html#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>(resume<span class="sc">$</span>call[resume<span class="sc">$</span>race <span class="sc">==</span> <span class="st">&quot;white&quot;</span>])</span>
<span id="cb78-3"><a href="application-in-r.html#cb78-3" aria-hidden="true" tabindex="-1"></a>ate</span></code></pre></div>
<pre><code>## [1] -0.03203285</code></pre>
<p>How can we interpret this? Do white applicants have an advantage?</p>
</div>
<div id="means-with-tidyverse" class="section level3" number="2.6.5">
<h3><span class="header-section-number">2.6.5</span> Means with <code>tidyverse</code></h3>
<p>The <code>tidyverse</code> offers a suite of R functions and a different grammar or syntax of coding. Some people prefer this to the “base R” codes we did above. To use this suite, first install the <code>tidyverse</code> package:</p>
<p>When you install a package, this is like downloading an app to your phone. You only have to do it one time.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="application-in-r.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>)</span></code></pre></div>
<p>After you have a package installed, much like an app on your phone, you then need to open it before using it in R. To do so, use the <code>library()</code> command.</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="application-in-r.html#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>The <code>tidyverse</code> works through these piping <code>%&gt;%</code> operators. We can read it from left to right. Take our dataset <code>resume</code>, group the data by <code>race</code>, and within each racial group, summarize the data by taking the mean call back rate.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="application-in-r.html#cb82-1" aria-hidden="true" tabindex="-1"></a>resume <span class="sc">%&gt;%</span></span>
<span id="cb82-2"><a href="application-in-r.html#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race) <span class="sc">%&gt;%</span></span>
<span id="cb82-3"><a href="application-in-r.html#cb82-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">means =</span> <span class="fu">mean</span>(call))</span></code></pre></div>
<pre><code>## # A tibble: 2 x 2
##   race   means
##   &lt;fct&gt;  &lt;dbl&gt;
## 1 black 0.0645
## 2 white 0.0965</code></pre>
<p>We could go a step further to calculate the ATE.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="application-in-r.html#cb84-1" aria-hidden="true" tabindex="-1"></a>ate <span class="ot">&lt;-</span> resume <span class="sc">%&gt;%</span></span>
<span id="cb84-2"><a href="application-in-r.html#cb84-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(race) <span class="sc">%&gt;%</span></span>
<span id="cb84-3"><a href="application-in-r.html#cb84-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">means =</span> <span class="fu">mean</span>(call)) <span class="sc">%&gt;%</span></span>
<span id="cb84-4"><a href="application-in-r.html#cb84-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb84-5"><a href="application-in-r.html#cb84-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(race, means)<span class="sc">%&gt;%</span></span>
<span id="cb84-6"><a href="application-in-r.html#cb84-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">diff =</span> black <span class="sc">-</span> white)</span>
<span id="cb84-7"><a href="application-in-r.html#cb84-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-8"><a href="application-in-r.html#cb84-8" aria-hidden="true" tabindex="-1"></a>ate</span></code></pre></div>
<pre><code>## # A tibble: 1 x 3
##    black  white    diff
##    &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;
## 1 0.0645 0.0965 -0.0320</code></pre>
</div>
<div id="ate-with-linear-regression" class="section level3" number="2.6.6">
<h3><span class="header-section-number">2.6.6</span> ATE with linear regression</h3>
<p>Linear regression also offers a way to calculate the conditional means and difference in means between two groups. In R, we use <code>lm()</code> for this. The syntax is <code>lm(y ~ x, data = mydataframe)</code>.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="application-in-r.html#cb86-1" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(call <span class="sc">~</span> race, <span class="at">data =</span>resume)</span></code></pre></div>
<p>We can look at the coefficient results only.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="application-in-r.html#cb87-1" aria-hidden="true" tabindex="-1"></a>fit<span class="sc">$</span>coefficients</span></code></pre></div>
<pre><code>## (Intercept)   racewhite 
##  0.06447639  0.03203285</code></pre>
<p>In a regression of this form, the intercept represents the mean of the reference category, in this case, the callback rate for Black applicants. The coefficient on <code>racewhite</code> represents the difference in means between the reference category and this group. I.e., going from a Black applicant (the reference category) to a white applicant, on average, increases call backs by 3.2 percentage points.</p>
</div>
<div id="subsetting-data-in-r" class="section level3" number="2.6.7">
<h3><span class="header-section-number">2.6.7</span> Subsetting data in R</h3>
<p>Maybe we are interested in differences in callbacks for females. One approach for looking at the treatment effect for female applicants, only, is to subset our data to include only female names.</p>
<ul>
<li>To do this, we will assign a new <code>data.frame</code> object that keeps only those rows where <code>sex == "female"</code> and retains all columns</li>
<li>Below are two approaches for this subsetting, one that uses brackets and one that uses the <code>subset</code> function</li>
</ul>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="application-in-r.html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="do">## option one</span></span>
<span id="cb89-2"><a href="application-in-r.html#cb89-2" aria-hidden="true" tabindex="-1"></a>females <span class="ot">&lt;-</span> resume[resume<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;female&quot;</span>, ]</span>
<span id="cb89-3"><a href="application-in-r.html#cb89-3" aria-hidden="true" tabindex="-1"></a><span class="do">## option two using subset()- preferred</span></span>
<span id="cb89-4"><a href="application-in-r.html#cb89-4" aria-hidden="true" tabindex="-1"></a>females <span class="ot">&lt;-</span> <span class="fu">subset</span>(resume, sex <span class="sc">==</span> <span class="st">&quot;female&quot;</span>)</span></code></pre></div>
<p>Now that we have subset the data, this simplifies estimating the ATE for female applicants only.</p>
<p>We said the ATE = <span class="math inline">\(\bar{Y}(treatment) - \bar{Y}(control)\)</span></p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="application-in-r.html#cb90-1" aria-hidden="true" tabindex="-1"></a>ate.females <span class="ot">&lt;-</span> <span class="fu">mean</span>(females<span class="sc">$</span>call[females<span class="sc">$</span>race <span class="sc">==</span> <span class="st">&quot;black&quot;</span>]) <span class="sc">-</span></span>
<span id="cb90-2"><a href="application-in-r.html#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>(females<span class="sc">$</span>call[females<span class="sc">$</span>race <span class="sc">==</span> <span class="st">&quot;white&quot;</span>])</span>
<span id="cb90-3"><a href="application-in-r.html#cb90-3" aria-hidden="true" tabindex="-1"></a>ate.females</span></code></pre></div>
<pre><code>## [1] -0.03264689</code></pre>
<p><strong><em>Question: Is this an unbiased estimate of the average treatment effect?</em></strong></p>
<details>
<summary>
Try on your own, then expand for the answer.
</summary>
<p>This is an example of a “Conditional Average Treatment Effect.” Generally, because gender is a pre-treatment factor, we can condition on it and get unbiased estimates for the average treatment effect within a particular gender group.</p>
<ul>
<li>Random assignment of treatment means that in expectation, we should have about equal proportions of female applicants in each treatment group, ruling out the potential for selection bias.</li>
</ul>
</details>
</div>
<div id="additional-practice" class="section level3" number="2.6.8">
<h3><span class="header-section-number">2.6.8</span> Additional Practice</h3>
<p>We will use data from the article below:</p>
<p>Thal, A. (2020). The desire for social status and economic conservatism among affluent Americans. American Political Science Review, 114(2), 426-442.</p>
<p>In the experiment, affluent Americans are randomly assigned to encounter Facebook posts in which others broadcast their economic success. These posts are designed in a way that encourages affluent respondents to view economic success as a means of achieving social status. The experiment includes a sample of 2010 affluent Americans– people who report household incomes in the top 10 percent of the U.S. income distribution.</p>
<ul>
<li>Causal Question: Does desire for social status influence economic views of affluent Americans?</li>
<li>Randomization: Randomly assign respondents to view different fictional Facebook posts designed to signal different motivations</li>
<li>Outcome: An economic conservatism index based on respondents’ support for decreasing “taxes on households making $150,000 or more a year,” support for decreasing the “taxes on money people make from selling investments, also referred to as capital gains,” and support for decreasing “government regulation of business and industry.”</li>
<li>Comparison: Average economic views between experimental conditions that vary in the type of social cues given.</li>
</ul>
<p><img src="images/status1.png" style="width:70.0%" /></p>
<p><img src="images/status2.png" style="width:70.0%" /></p>
<p>Let’s load the data! Here, note that the data file is in a .RData format instead of .csv. This means that instead of using <code>read.csv</code>, we should use a function to load the data that is suitable for the .RData format. This will be <code>load</code>. That function works the following way:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="application-in-r.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;status.RData&quot;</span>)</span></code></pre></div>
<p>After running the above code, an object will show up in your R environment.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="application-in-r.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(status)</span></code></pre></div>
<pre><code>##         condition male   econcon
## 2        Concrete    1 0.7500000
## 3     Self-Esteem    1 1.0000000
## 4         Placebo    1 0.6666667
## 5     Self-Esteem    0 0.2500000
## 6     Self-Esteem    0 1.0000000
## 7 Social Approval    0 0.8333333</code></pre>
<p>The data include the following variables</p>
<ul>
<li><code>condition</code>: Placebo, Concrete, Self-Esteem, Social Approval, Conspicuous Consumption</li>
<li><code>gender</code>: 1= male; 0= otherwise</li>
<li><code>econcon</code>: Economic views. Numeric variable from 0 to 1, with higher values reflecting more conservative views</li>
</ul>
<p>Practice:</p>
<ol style="list-style-type: decimal">
<li>How many people are in each <code>condition</code>?</li>
<li>What is the average treatment effect between the Placebo and Social Approval conditions?</li>
</ol>
<details>
<summary>
Try on your own, then expand for the answer.
</summary>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="application-in-r.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of observations</span></span>
<span id="cb95-2"><a href="application-in-r.html#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(status<span class="sc">$</span>condition)</span></code></pre></div>
<pre><code>## 
##                 Placebo                Concrete Conspicuous Consumption 
##                     394                     391                     392 
##             Self-Esteem         Social Approval 
##                     390                     375</code></pre>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="application-in-r.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="do">## tidy</span></span>
<span id="cb97-2"><a href="application-in-r.html#cb97-2" aria-hidden="true" tabindex="-1"></a>groupmeans <span class="ot">&lt;-</span> status <span class="sc">%&gt;%</span></span>
<span id="cb97-3"><a href="application-in-r.html#cb97-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(condition) <span class="sc">%&gt;%</span></span>
<span id="cb97-4"><a href="application-in-r.html#cb97-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">means =</span> <span class="fu">mean</span>(econcon)) <span class="sc">%&gt;%</span></span>
<span id="cb97-5"><a href="application-in-r.html#cb97-5" aria-hidden="true" tabindex="-1"></a>  ungroup <span class="sc">%&gt;%</span></span>
<span id="cb97-6"><a href="application-in-r.html#cb97-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">spread</span>(condition, means) </span>
<span id="cb97-7"><a href="application-in-r.html#cb97-7" aria-hidden="true" tabindex="-1"></a>groupmeans<span class="sc">$</span><span class="st">`</span><span class="at">Social Approval</span><span class="st">`</span> <span class="sc">-</span> groupmeans<span class="sc">$</span>Placebo</span></code></pre></div>
<pre><code>## [1] 0.05634969</code></pre>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="application-in-r.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="do">## relational operators</span></span>
<span id="cb99-2"><a href="application-in-r.html#cb99-2" aria-hidden="true" tabindex="-1"></a>ate <span class="ot">&lt;-</span> <span class="fu">mean</span>(status<span class="sc">$</span>econcon[status<span class="sc">$</span>condition <span class="sc">==</span> <span class="st">&quot;Social Approval&quot;</span>]) <span class="sc">-</span> <span class="fu">mean</span>(status<span class="sc">$</span>econcon[status<span class="sc">$</span>condition <span class="sc">==</span> <span class="st">&quot;Placebo&quot;</span>]) </span>
<span id="cb99-3"><a href="application-in-r.html#cb99-3" aria-hidden="true" tabindex="-1"></a>ate</span></code></pre></div>
<pre><code>## [1] 0.05634969</code></pre>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="application-in-r.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="do">## regression</span></span>
<span id="cb101-2"><a href="application-in-r.html#cb101-2" aria-hidden="true" tabindex="-1"></a>fit <span class="ot">&lt;-</span> <span class="fu">lm</span>(econcon <span class="sc">~</span> condition, <span class="at">data =</span> status)</span>
<span id="cb101-3"><a href="application-in-r.html#cb101-3" aria-hidden="true" tabindex="-1"></a>fit<span class="sc">$</span>coefficients[<span class="st">&quot;conditionSocial Approval&quot;</span>]</span></code></pre></div>
<pre><code>## conditionSocial Approval 
##               0.05634969</code></pre>
</details>
<p><strong><em>Additional Review Questions</em></strong></p>
<ul>
<li>What is this quantity <span class="math inline">\(E[Y_i (1) − Y_i (0)]\)</span> conceptually?</li>
<li>What is the fundamental problem of causal inference?</li>
<li>How can we find out if our estimates are unbiased? (What process do we need to do?)</li>
<li>With randomization, why is <span class="math inline">\(E[Y_i (1)] = E [Y_i (1)|D_i = 1]\)</span>?</li>
<li>What other assumptions do we need to estimate the ATE in an unbiased way using differences in means?</li>
</ul>

</div>
</div>
<!-- </div> -->
            </section>

          </div>
        </div>
      </div>
<a href="overview-of-identification-assumptions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="design.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
