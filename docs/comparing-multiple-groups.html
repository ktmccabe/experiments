<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>11.3 Comparing multiple groups | Experimental Methods in Political Science</title>
  <meta name="description" content="11.3 Comparing multiple groups | Experimental Methods in Political Science" />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="11.3 Comparing multiple groups | Experimental Methods in Political Science" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="11.3 Comparing multiple groups | Experimental Methods in Political Science" />
  
  
  

<meta name="author" content="Instructor: Katie McCabe" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="proportion-tests.html"/>
<link rel="next" href="even-more-tests.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Course Notes</a>
<ul>
<li class="chapter" data-level="1.1" data-path="rsetup.html"><a href="rsetup.html"><i class="fa fa-check"></i><b>1.1</b> Setup in R</a></li>
<li class="chapter" data-level="1.2" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html"><i class="fa fa-check"></i><b>1.2</b> First Time Working in R and RStudio</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#open-rstudio"><i class="fa fa-check"></i><b>1.2.1</b> Open RStudio</a></li>
<li class="chapter" data-level="1.2.2" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#using-r-as-a-calculator"><i class="fa fa-check"></i><b>1.2.2</b> Using R as a Calculator</a></li>
<li class="chapter" data-level="1.2.3" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#working-in-an-r-script"><i class="fa fa-check"></i><b>1.2.3</b> Working in an R Script</a></li>
<li class="chapter" data-level="1.2.4" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#preparing-your-r-script"><i class="fa fa-check"></i><b>1.2.4</b> Preparing your R script</a></li>
<li class="chapter" data-level="1.2.5" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#executing-commands-in-your-r-script"><i class="fa fa-check"></i><b>1.2.5</b> Executing Commands in your R script</a></li>
<li class="chapter" data-level="1.2.6" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#objects"><i class="fa fa-check"></i><b>1.2.6</b> Objects</a></li>
<li class="chapter" data-level="1.2.7" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#practice-with-r-scripts"><i class="fa fa-check"></i><b>1.2.7</b> Practice with R Scripts</a></li>
<li class="chapter" data-level="1.2.8" data-path="first-time-working-in-r-and-rstudio.html"><a href="first-time-working-in-r-and-rstudio.html#loading-data-into-r"><i class="fa fa-check"></i><b>1.2.8</b> Loading data into R</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="r-markdown.html"><a href="r-markdown.html"><i class="fa fa-check"></i><b>1.3</b> R Markdown</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="r-markdown.html"><a href="r-markdown.html#how-to-get-setup-in-rmarkdown"><i class="fa fa-check"></i><b>1.3.1</b> How to get setup in RMarkdown</a></li>
<li class="chapter" data-level="1.3.2" data-path="r-markdown.html"><a href="r-markdown.html#additional-rmarkdown-resources"><i class="fa fa-check"></i><b>1.3.2</b> Additional RMarkdown resources</a></li>
<li class="chapter" data-level="1.3.3" data-path="r-markdown.html"><a href="r-markdown.html#practice-with-r-markdown"><i class="fa fa-check"></i><b>1.3.3</b> Practice with R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="what-are-experiments.html"><a href="what-are-experiments.html"><i class="fa fa-check"></i><b>1.4</b> What are experiments?</a></li>
<li class="chapter" data-level="1.5" data-path="getting-comfortable-with-r.html"><a href="getting-comfortable-with-r.html"><i class="fa fa-check"></i><b>1.5</b> Getting Comfortable with R</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="getting-comfortable-with-r.html"><a href="getting-comfortable-with-r.html#dataframes-in-r"><i class="fa fa-check"></i><b>1.5.1</b> Dataframes in R</a></li>
<li class="chapter" data-level="1.5.2" data-path="getting-comfortable-with-r.html"><a href="getting-comfortable-with-r.html#computing-summary-statistics-of-variables"><i class="fa fa-check"></i><b>1.5.2</b> Computing summary statistics of variables</a></li>
<li class="chapter" data-level="1.5.3" data-path="getting-comfortable-with-r.html"><a href="getting-comfortable-with-r.html#relational-operators"><i class="fa fa-check"></i><b>1.5.3</b> Relational operators</a></li>
<li class="chapter" data-level="1.5.4" data-path="getting-comfortable-with-r.html"><a href="getting-comfortable-with-r.html#subsetting-dataframes"><i class="fa fa-check"></i><b>1.5.4</b> Subsetting Dataframes</a></li>
<li class="chapter" data-level="1.5.5" data-path="getting-comfortable-with-r.html"><a href="getting-comfortable-with-r.html#working-outside-of-dataframes"><i class="fa fa-check"></i><b>1.5.5</b> Working outside of dataframes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="causaleffects.html"><a href="causaleffects.html"><i class="fa fa-check"></i><b>2</b> Causal Effects</a>
<ul>
<li class="chapter" data-level="2.1" data-path="potential-outcomes-framework.html"><a href="potential-outcomes-framework.html"><i class="fa fa-check"></i><b>2.1</b> Potential Outcomes Framework</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="potential-outcomes-framework.html"><a href="potential-outcomes-framework.html#average-treatment-effect"><i class="fa fa-check"></i><b>2.1.1</b> Average Treatment Effect</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="fundamental-problem-of-causal-inference.html"><a href="fundamental-problem-of-causal-inference.html"><i class="fa fa-check"></i><b>2.2</b> Fundamental Problem of Causal Inference</a></li>
<li class="chapter" data-level="2.3" data-path="identification-strategy.html"><a href="identification-strategy.html"><i class="fa fa-check"></i><b>2.3</b> Identification strategy</a></li>
<li class="chapter" data-level="2.4" data-path="difference-in-means-estimator.html"><a href="difference-in-means-estimator.html"><i class="fa fa-check"></i><b>2.4</b> Difference in Means Estimator</a></li>
<li class="chapter" data-level="2.5" data-path="overview-of-identification-assumptions.html"><a href="overview-of-identification-assumptions.html"><i class="fa fa-check"></i><b>2.5</b> Overview of identification assumptions</a></li>
<li class="chapter" data-level="2.6" data-path="application-in-r.html"><a href="application-in-r.html"><i class="fa fa-check"></i><b>2.6</b> Application in R</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="application-in-r.html"><a href="application-in-r.html#loading-the-data"><i class="fa fa-check"></i><b>2.6.1</b> Loading the data</a></li>
<li class="chapter" data-level="2.6.2" data-path="application-in-r.html"><a href="application-in-r.html#variable-classes"><i class="fa fa-check"></i><b>2.6.2</b> Variable classes</a></li>
<li class="chapter" data-level="2.6.3" data-path="application-in-r.html"><a href="application-in-r.html#exploring-treatment-and-control-groups"><i class="fa fa-check"></i><b>2.6.3</b> Exploring Treatment and Control Groups</a></li>
<li class="chapter" data-level="2.6.4" data-path="application-in-r.html"><a href="application-in-r.html#means-with-relational-operators"><i class="fa fa-check"></i><b>2.6.4</b> Means with Relational Operators</a></li>
<li class="chapter" data-level="2.6.5" data-path="application-in-r.html"><a href="application-in-r.html#means-with-tidyverse"><i class="fa fa-check"></i><b>2.6.5</b> Means with <code>tidyverse</code></a></li>
<li class="chapter" data-level="2.6.6" data-path="application-in-r.html"><a href="application-in-r.html#ate-with-linear-regression"><i class="fa fa-check"></i><b>2.6.6</b> ATE with linear regression</a></li>
<li class="chapter" data-level="2.6.7" data-path="application-in-r.html"><a href="application-in-r.html#subsetting-data-in-r"><i class="fa fa-check"></i><b>2.6.7</b> Subsetting data in R</a></li>
<li class="chapter" data-level="2.6.8" data-path="application-in-r.html"><a href="application-in-r.html#additional-practice"><i class="fa fa-check"></i><b>2.6.8</b> Additional Practice</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="design.html"><a href="design.html"><i class="fa fa-check"></i><b>3</b> Experimental Design</a>
<ul>
<li class="chapter" data-level="3.1" data-path="designing-an-experiment.html"><a href="designing-an-experiment.html"><i class="fa fa-check"></i><b>3.1</b> Designing an Experiment</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="designing-an-experiment.html"><a href="designing-an-experiment.html#validity"><i class="fa fa-check"></i><b>3.1.1</b> Validity</a></li>
<li class="chapter" data-level="3.1.2" data-path="designing-an-experiment.html"><a href="designing-an-experiment.html#design-space-for-experiments"><i class="fa fa-check"></i><b>3.1.2</b> Design Space for Experiments</a></li>
<li class="chapter" data-level="3.1.3" data-path="designing-an-experiment.html"><a href="designing-an-experiment.html#types-of-designs"><i class="fa fa-check"></i><b>3.1.3</b> Types of Designs</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="using-qualtrics.html"><a href="using-qualtrics.html"><i class="fa fa-check"></i><b>3.2</b> Using Qualtrics</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="using-qualtrics.html"><a href="using-qualtrics.html#experimental-design-with-vignette-experiment"><i class="fa fa-check"></i><b>3.2.1</b> Experimental Design with Vignette Experiment</a></li>
<li class="chapter" data-level="3.2.2" data-path="using-qualtrics.html"><a href="using-qualtrics.html#unique-blocks-per-experimental-condition"><i class="fa fa-check"></i><b>3.2.2</b> Unique blocks per experimental condition</a></li>
<li class="chapter" data-level="3.2.3" data-path="using-qualtrics.html"><a href="using-qualtrics.html#adding-a-randomizer-in-the-survey-flow"><i class="fa fa-check"></i><b>3.2.3</b> Adding a randomizer in the survey flow</a></li>
<li class="chapter" data-level="3.2.4" data-path="using-qualtrics.html"><a href="using-qualtrics.html#using-piped-text-in-randomization"><i class="fa fa-check"></i><b>3.2.4</b> Using Piped Text in Randomization</a></li>
<li class="chapter" data-level="3.2.5" data-path="using-qualtrics.html"><a href="using-qualtrics.html#data-and-analysis"><i class="fa fa-check"></i><b>3.2.5</b> Data and Analysis</a></li>
<li class="chapter" data-level="3.2.6" data-path="using-qualtrics.html"><a href="using-qualtrics.html#additional-bells-and-whistles"><i class="fa fa-check"></i><b>3.2.6</b> Additional Bells and Whistles</a></li>
<li class="chapter" data-level="3.2.7" data-path="using-qualtrics.html"><a href="using-qualtrics.html#adding-a-gif-to-qualtrics"><i class="fa fa-check"></i><b>3.2.7</b> Adding a gif to Qualtrics</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="uncertainty.html"><a href="uncertainty.html"><i class="fa fa-check"></i><b>4</b> Uncertainty</a>
<ul>
<li class="chapter" data-level="4.1" data-path="standard-errors.html"><a href="standard-errors.html"><i class="fa fa-check"></i><b>4.1</b> Standard Errors</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="standard-errors.html"><a href="standard-errors.html#standard-error-of-the-mean"><i class="fa fa-check"></i><b>4.1.1</b> Standard Error of the Mean</a></li>
<li class="chapter" data-level="4.1.2" data-path="standard-errors.html"><a href="standard-errors.html#standard-error-for-a-difference-in-means"><i class="fa fa-check"></i><b>4.1.2</b> Standard error for a difference in means</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="confidence-intervals.html"><a href="confidence-intervals.html"><i class="fa fa-check"></i><b>4.2</b> Confidence Intervals</a></li>
<li class="chapter" data-level="4.3" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html"><i class="fa fa-check"></i><b>4.3</b> Hypothesis Tests</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#t-tests"><i class="fa fa-check"></i><b>4.3.1</b> t-tests</a></li>
<li class="chapter" data-level="4.3.2" data-path="hypothesis-tests.html"><a href="hypothesis-tests.html#p-values"><i class="fa fa-check"></i><b>4.3.2</b> p-values</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="empirical-application.html"><a href="empirical-application.html"><i class="fa fa-check"></i><b>4.4</b> Empirical Application</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="empirical-application.html"><a href="empirical-application.html#treatment"><i class="fa fa-check"></i><b>4.4.1</b> Treatment</a></li>
<li class="chapter" data-level="4.4.2" data-path="empirical-application.html"><a href="empirical-application.html#analysis"><i class="fa fa-check"></i><b>4.4.2</b> Analysis</a></li>
<li class="chapter" data-level="4.4.3" data-path="empirical-application.html"><a href="empirical-application.html#heterogeneous-treatment-effects"><i class="fa fa-check"></i><b>4.4.3</b> Heterogeneous Treatment Effects</a></li>
<li class="chapter" data-level="4.4.4" data-path="empirical-application.html"><a href="empirical-application.html#difference-in-proportions"><i class="fa fa-check"></i><b>4.4.4</b> Difference in Proportions</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="randomization-inference.html"><a href="randomization-inference.html"><i class="fa fa-check"></i><b>4.5</b> Randomization Inference</a></li>
<li class="chapter" data-level="4.6" data-path="a-note-on-expectations-and-variance.html"><a href="a-note-on-expectations-and-variance.html"><i class="fa fa-check"></i><b>4.6</b> A Note on Expectations and Variance</a></li>
<li class="chapter" data-level="4.7" data-path="equivalence-of-t-test-and-anova.html"><a href="equivalence-of-t-test-and-anova.html"><i class="fa fa-check"></i><b>4.7</b> Equivalence of t-test and ANOVA</a></li>
<li class="chapter" data-level="4.8" data-path="comparing-different-types-of-tests.html"><a href="comparing-different-types-of-tests.html"><i class="fa fa-check"></i><b>4.8</b> Comparing different types of tests</a></li>
<li class="chapter" data-level="4.9" data-path="experimental-design-complications.html"><a href="experimental-design-complications.html"><i class="fa fa-check"></i><b>4.9</b> Experimental Design Complications</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="visualize.html"><a href="visualize.html"><i class="fa fa-check"></i><b>5</b> Visualization</a>
<ul>
<li class="chapter" data-level="5.1" data-path="plotting-average-treatment-effects.html"><a href="plotting-average-treatment-effects.html"><i class="fa fa-check"></i><b>5.1</b> Plotting Average Treatment Effects</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="plotting-average-treatment-effects.html"><a href="plotting-average-treatment-effects.html#ate-using-plot"><i class="fa fa-check"></i><b>5.1.1</b> ATE using <code>plot</code></a></li>
<li class="chapter" data-level="5.1.2" data-path="plotting-average-treatment-effects.html"><a href="plotting-average-treatment-effects.html#ate-with-ggplot"><i class="fa fa-check"></i><b>5.1.2</b> ATE with <code>ggplot</code></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="heterogeneous-treatment-effects-1.html"><a href="heterogeneous-treatment-effects-1.html"><i class="fa fa-check"></i><b>5.2</b> Heterogeneous Treatment Effects</a></li>
<li class="chapter" data-level="5.3" data-path="some-additional-plotting-options.html"><a href="some-additional-plotting-options.html"><i class="fa fa-check"></i><b>5.3</b> Some additional plotting options</a></li>
<li class="chapter" data-level="5.4" data-path="examples-of-arguments-in-plot.html"><a href="examples-of-arguments-in-plot.html"><i class="fa fa-check"></i><b>5.4</b> Examples of arguments in <code>plot</code></a></li>
<li class="chapter" data-level="5.5" data-path="creating-tables-from-r.html"><a href="creating-tables-from-r.html"><i class="fa fa-check"></i><b>5.5</b> Creating Tables from R</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="creating-tables-from-r.html"><a href="creating-tables-from-r.html#additional-formatting-examples"><i class="fa fa-check"></i><b>5.5.1</b> Additional formatting examples</a></li>
<li class="chapter" data-level="5.5.2" data-path="creating-tables-from-r.html"><a href="creating-tables-from-r.html#additional-table-types"><i class="fa fa-check"></i><b>5.5.2</b> Additional Table Types</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ethics.html"><a href="ethics.html"><i class="fa fa-check"></i><b>6</b> Ethics and Sampling Considerations</a>
<ul>
<li class="chapter" data-level="6.1" data-path="value-of-informed-consent.html"><a href="value-of-informed-consent.html"><i class="fa fa-check"></i><b>6.1</b> Value of Informed Consent</a></li>
<li class="chapter" data-level="6.2" data-path="research-integrity-reproducibility-and-transparency.html"><a href="research-integrity-reproducibility-and-transparency.html"><i class="fa fa-check"></i><b>6.2</b> Research Integrity, Reproducibility, and Transparency</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="research-integrity-reproducibility-and-transparency.html"><a href="research-integrity-reproducibility-and-transparency.html#preregistration"><i class="fa fa-check"></i><b>6.2.1</b> Preregistration</a></li>
<li class="chapter" data-level="6.2.2" data-path="research-integrity-reproducibility-and-transparency.html"><a href="research-integrity-reproducibility-and-transparency.html#reporting-an-experimental-analysis"><i class="fa fa-check"></i><b>6.2.2</b> Reporting an Experimental Analysis</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="sampling-considerations.html"><a href="sampling-considerations.html"><i class="fa fa-check"></i><b>6.3</b> Sampling Considerations</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="sampling-considerations.html"><a href="sampling-considerations.html#power-analysis"><i class="fa fa-check"></i><b>6.3.1</b> Power Analysis</a></li>
<li class="chapter" data-level="6.3.2" data-path="sampling-considerations.html"><a href="sampling-considerations.html#power-in-r"><i class="fa fa-check"></i><b>6.3.2</b> Power in R</a></li>
<li class="chapter" data-level="6.3.3" data-path="sampling-considerations.html"><a href="sampling-considerations.html#relationship-between-error-rates-and-multiple-testing"><i class="fa fa-check"></i><b>6.3.3</b> Relationship between Error Rates and Multiple Testing</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="fieldexp.html"><a href="fieldexp.html"><i class="fa fa-check"></i><b>7</b> Field Experiments</a>
<ul>
<li class="chapter" data-level="7.1" data-path="field-experiment-application.html"><a href="field-experiment-application.html"><i class="fa fa-check"></i><b>7.1</b> Field Experiment Application</a></li>
<li class="chapter" data-level="7.2" data-path="clustering-standard-errors.html"><a href="clustering-standard-errors.html"><i class="fa fa-check"></i><b>7.2</b> Clustering standard errors</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="clustering-standard-errors.html"><a href="clustering-standard-errors.html#adjusting-p-values"><i class="fa fa-check"></i><b>7.2.1</b> Adjusting p-values</a></li>
<li class="chapter" data-level="7.2.2" data-path="clustering-standard-errors.html"><a href="clustering-standard-errors.html#additional-complex-sampling-designs"><i class="fa fa-check"></i><b>7.2.2</b> Additional complex sampling designs</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="compliance.html"><a href="compliance.html"><i class="fa fa-check"></i><b>7.3</b> Compliance</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="compliance.html"><a href="compliance.html#notation-for-compliance"><i class="fa fa-check"></i><b>7.3.1</b> Notation for Compliance</a></li>
<li class="chapter" data-level="7.3.2" data-path="compliance.html"><a href="compliance.html#complier-average-causal-effect"><i class="fa fa-check"></i><b>7.3.2</b> Complier Average Causal Effect</a></li>
<li class="chapter" data-level="7.3.3" data-path="compliance.html"><a href="compliance.html#design-based-approach-to-help-measure-compliance"><i class="fa fa-check"></i><b>7.3.3</b> Design-based approach to help measure compliance</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="quasi.html"><a href="quasi.html"><i class="fa fa-check"></i><b>8</b> Quasi and Natural Experiments</a>
<ul>
<li class="chapter" data-level="8.1" data-path="what-makes-an-experiment-not-an-experiment.html"><a href="what-makes-an-experiment-not-an-experiment.html"><i class="fa fa-check"></i><b>8.1</b> What makes an experiment not an experiment?</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="what-makes-an-experiment-not-an-experiment.html"><a href="what-makes-an-experiment-not-an-experiment.html#what-is-a-natural-experiment"><i class="fa fa-check"></i><b>8.1.1</b> What is a natural experiment?</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="exploiting-exogenous-policy-changes-and-events.html"><a href="exploiting-exogenous-policy-changes-and-events.html"><i class="fa fa-check"></i><b>8.2</b> Exploiting Exogenous Policy Changes and Events</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="exploiting-exogenous-policy-changes-and-events.html"><a href="exploiting-exogenous-policy-changes-and-events.html#unexpected-event-design"><i class="fa fa-check"></i><b>8.2.1</b> Unexpected Event Design</a></li>
<li class="chapter" data-level="8.2.2" data-path="exploiting-exogenous-policy-changes-and-events.html"><a href="exploiting-exogenous-policy-changes-and-events.html#differences-in-differences"><i class="fa fa-check"></i><b>8.2.2</b> Differences in Differences</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html"><i class="fa fa-check"></i><b>8.3</b> Regression Discontinuity</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#sharp-rd"><i class="fa fa-check"></i><b>8.3.1</b> Sharp RD</a></li>
<li class="chapter" data-level="8.3.2" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#application-in-r-1"><i class="fa fa-check"></i><b>8.3.2</b> Application in R</a></li>
<li class="chapter" data-level="8.3.3" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#considerations-in-rd-design"><i class="fa fa-check"></i><b>8.3.3</b> Considerations in RD Design</a></li>
<li class="chapter" data-level="8.3.4" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#rd-visualizations"><i class="fa fa-check"></i><b>8.3.4</b> RD Visualizations</a></li>
<li class="chapter" data-level="8.3.5" data-path="regression-discontinuity.html"><a href="regression-discontinuity.html#fuzzy-rd-application"><i class="fa fa-check"></i><b>8.3.5</b> Fuzzy RD Application</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="mediation.html"><a href="mediation.html"><i class="fa fa-check"></i><b>9</b> Mediation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="mediation-overview.html"><a href="mediation-overview.html"><i class="fa fa-check"></i><b>9.1</b> Mediation Overview</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="mediation-overview.html"><a href="mediation-overview.html#distinguishing-mediators-vs.-moderators"><i class="fa fa-check"></i><b>9.1.1</b> Distinguishing mediators vs. moderators</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="implementing-a-mediation-analysis.html"><a href="implementing-a-mediation-analysis.html"><i class="fa fa-check"></i><b>9.2</b> Implementing a Mediation Analysis</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="implementing-a-mediation-analysis.html"><a href="implementing-a-mediation-analysis.html#baron-kenny-approach"><i class="fa fa-check"></i><b>9.2.1</b> Baron-Kenny Approach</a></li>
<li class="chapter" data-level="9.2.2" data-path="implementing-a-mediation-analysis.html"><a href="implementing-a-mediation-analysis.html#problems-with-mediation"><i class="fa fa-check"></i><b>9.2.2</b> Problems with Mediation</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="causal-mediation-framework.html"><a href="causal-mediation-framework.html"><i class="fa fa-check"></i><b>9.3</b> Causal Mediation Framework</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="causal-mediation-framework.html"><a href="causal-mediation-framework.html#acme-assumptions"><i class="fa fa-check"></i><b>9.3.1</b> ACME Assumptions</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="acme-application-in-r.html"><a href="acme-application-in-r.html"><i class="fa fa-check"></i><b>9.4</b> ACME Application in R</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="acme-application-in-r.html"><a href="acme-application-in-r.html#mediation-r-implementation"><i class="fa fa-check"></i><b>9.4.1</b> Mediation R Implementation</a></li>
<li class="chapter" data-level="9.4.2" data-path="acme-application-in-r.html"><a href="acme-application-in-r.html#sensitivity-analyses"><i class="fa fa-check"></i><b>9.4.2</b> Sensitivity Analyses</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="mediation-alternatives.html"><a href="mediation-alternatives.html"><i class="fa fa-check"></i><b>9.5</b> Mediation Alternatives</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="conjoints.html"><a href="conjoints.html"><i class="fa fa-check"></i><b>10</b> Conjoints</a>
<ul>
<li class="chapter" data-level="10.1" data-path="conjoint-overview.html"><a href="conjoint-overview.html"><i class="fa fa-check"></i><b>10.1</b> Conjoint Overview</a></li>
<li class="chapter" data-level="10.2" data-path="amce-effects.html"><a href="amce-effects.html"><i class="fa fa-check"></i><b>10.2</b> AMCE effects</a></li>
<li class="chapter" data-level="10.3" data-path="amce-estimation.html"><a href="amce-estimation.html"><i class="fa fa-check"></i><b>10.3</b> AMCE estimation</a></li>
<li class="chapter" data-level="10.4" data-path="conjoint-application-in-r.html"><a href="conjoint-application-in-r.html"><i class="fa fa-check"></i><b>10.4</b> Conjoint Application in R</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="conjoint-application-in-r.html"><a href="conjoint-application-in-r.html#a-wrinkle--restricted-combinations"><i class="fa fa-check"></i><b>10.4.1</b> A wrinkle- restricted combinations</a></li>
<li class="chapter" data-level="10.4.2" data-path="conjoint-application-in-r.html"><a href="conjoint-application-in-r.html#visualizing-the-amce-with-a-package"><i class="fa fa-check"></i><b>10.4.2</b> Visualizing the AMCE with a package</a></li>
<li class="chapter" data-level="10.4.3" data-path="conjoint-application-in-r.html"><a href="conjoint-application-in-r.html#subgroup-analysis"><i class="fa fa-check"></i><b>10.4.3</b> Subgroup analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="additional.html"><a href="additional.html"><i class="fa fa-check"></i><b>11</b> Additional Tests</a>
<ul>
<li class="chapter" data-level="11.1" data-path="t-tests-and-its-friends.html"><a href="t-tests-and-its-friends.html"><i class="fa fa-check"></i><b>11.1</b> t-tests and its friends</a></li>
<li class="chapter" data-level="11.2" data-path="proportion-tests.html"><a href="proportion-tests.html"><i class="fa fa-check"></i><b>11.2</b> Proportion tests</a></li>
<li class="chapter" data-level="11.3" data-path="comparing-multiple-groups.html"><a href="comparing-multiple-groups.html"><i class="fa fa-check"></i><b>11.3</b> Comparing multiple groups</a></li>
<li class="chapter" data-level="11.4" data-path="even-more-tests.html"><a href="even-more-tests.html"><i class="fa fa-check"></i><b>11.4</b> Even more tests</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="even-more-tests.html"><a href="even-more-tests.html#paired-tests"><i class="fa fa-check"></i><b>11.4.1</b> Paired tests</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Experimental Methods in Political Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="comparing-multiple-groups" class="section level2 hasAnchor" number="11.3">
<h2><span class="header-section-number">11.3</span> Comparing multiple groups<a href="comparing-multiple-groups.html#comparing-multiple-groups" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Sometimes our experiments have several conditions that we want to compare. One approach for this is just to conduct multiple pairwise t-tests.</p>
<p>Let’s look at an example using the resume dataset.</p>
<div class="sourceCode" id="cb448"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb448-1"><a href="comparing-multiple-groups.html#cb448-1" aria-hidden="true" tabindex="-1"></a>resume<span class="sc">$</span>racegender <span class="ot">&lt;-</span> <span class="cn">NA</span></span>
<span id="cb448-2"><a href="comparing-multiple-groups.html#cb448-2" aria-hidden="true" tabindex="-1"></a>resume<span class="sc">$</span>racegender[resume<span class="sc">$</span>race<span class="sc">==</span><span class="st">&quot;white&quot;</span> <span class="sc">&amp;</span> resume<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;male&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;White Male&quot;</span></span>
<span id="cb448-3"><a href="comparing-multiple-groups.html#cb448-3" aria-hidden="true" tabindex="-1"></a>resume<span class="sc">$</span>racegender[resume<span class="sc">$</span>race<span class="sc">==</span><span class="st">&quot;white&quot;</span> <span class="sc">&amp;</span> resume<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;female&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;White Female&quot;</span></span>
<span id="cb448-4"><a href="comparing-multiple-groups.html#cb448-4" aria-hidden="true" tabindex="-1"></a>resume<span class="sc">$</span>racegender[resume<span class="sc">$</span>race<span class="sc">==</span><span class="st">&quot;black&quot;</span> <span class="sc">&amp;</span> resume<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;male&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Black Male&quot;</span></span>
<span id="cb448-5"><a href="comparing-multiple-groups.html#cb448-5" aria-hidden="true" tabindex="-1"></a>resume<span class="sc">$</span>racegender[resume<span class="sc">$</span>race<span class="sc">==</span><span class="st">&quot;black&quot;</span> <span class="sc">&amp;</span> resume<span class="sc">$</span>sex <span class="sc">==</span> <span class="st">&quot;female&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Black Female&quot;</span></span>
<span id="cb448-6"><a href="comparing-multiple-groups.html#cb448-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb448-7"><a href="comparing-multiple-groups.html#cb448-7" aria-hidden="true" tabindex="-1"></a><span class="do">## make it a factor variable</span></span>
<span id="cb448-8"><a href="comparing-multiple-groups.html#cb448-8" aria-hidden="true" tabindex="-1"></a>resume<span class="sc">$</span>racegender <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(resume<span class="sc">$</span>racegender)</span>
<span id="cb448-9"><a href="comparing-multiple-groups.html#cb448-9" aria-hidden="true" tabindex="-1"></a>resume<span class="sc">$</span>racegender <span class="ot">&lt;-</span> <span class="fu">relevel</span>(resume<span class="sc">$</span>racegender, <span class="at">ref=</span><span class="st">&quot;White Male&quot;</span>)</span></code></pre></div>
<p>We could conduct a t-test fo any comparison. For example:</p>
<div class="sourceCode" id="cb449"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb449-1"><a href="comparing-multiple-groups.html#cb449-1" aria-hidden="true" tabindex="-1"></a>t.males <span class="ot">&lt;-</span> <span class="fu">t.test</span>(resume<span class="sc">$</span>call[resume<span class="sc">$</span>racegender<span class="sc">==</span><span class="st">&quot;White Male&quot;</span>],</span>
<span id="cb449-2"><a href="comparing-multiple-groups.html#cb449-2" aria-hidden="true" tabindex="-1"></a>                 resume<span class="sc">$</span>call[resume<span class="sc">$</span>racegender<span class="sc">==</span><span class="st">&quot;Black Male&quot;</span>])</span></code></pre></div>
<p>Alternatively, we can put this into a regression and get the contrasts with White Male all at once. The differences in means will be the same, though the uncertainty may be slightly different, as the regression assumes homogenous variance.</p>
<div class="sourceCode" id="cb450"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb450-1"><a href="comparing-multiple-groups.html#cb450-1" aria-hidden="true" tabindex="-1"></a>reg.all <span class="ot">&lt;-</span> <span class="fu">lm</span>(call <span class="sc">~</span> racegender, <span class="at">data=</span>resume)</span>
<span id="cb450-2"><a href="comparing-multiple-groups.html#cb450-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(reg.all)<span class="sc">$</span>coefficients</span></code></pre></div>
<pre><code>##                           Estimate Std. Error    t value     Pr(&gt;|t|)
## (Intercept)             0.08869565 0.01132928  7.8288835 5.997668e-15
## racegenderBlack Female -0.02241782 0.01294158 -1.7322311 8.329579e-02
## racegenderBlack Male   -0.03040786 0.01621061 -1.8757991 6.074270e-02
## racegenderWhite Female  0.01022908 0.01296270  0.7891163 4.300825e-01</code></pre>
<p>Many times in these settings, researchers might also run an ANOVA analysis. In the case of two groups, an ANOVA, regression, and t-test will generate equivalent results. In the case of more than two groups, an ANOVA conducts a “joint test of significance” assessing if there is at least one significant difference in the means between groups. See <a href="https://rpubs.com/aaronsc32/anova-compare-more-than-two-groups">here</a> for an example.</p>
<p>The code for an ANOVA using <code>aov</code> mirrors the code for regression using <code>lm</code>.</p>
<div class="sourceCode" id="cb452"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb452-1"><a href="comparing-multiple-groups.html#cb452-1" aria-hidden="true" tabindex="-1"></a>aov.all <span class="ot">&lt;-</span> <span class="fu">aov</span>(call<span class="sc">~</span> racegender, <span class="at">data=</span>resume)</span>
<span id="cb452-2"><a href="comparing-multiple-groups.html#cb452-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(aov.all)</span></code></pre></div>
<pre><code>##               Df Sum Sq Mean Sq F value   Pr(&gt;F)    
## racegender     3    1.3  0.4408   5.973 0.000464 ***
## Residuals   4866  359.1  0.0738                     
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<details>
<summary>
Below, we can calcualte this by hand.
</summary>
<p>Let’s gather some useful statistics:</p>
<div class="sourceCode" id="cb454"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb454-1"><a href="comparing-multiple-groups.html#cb454-1" aria-hidden="true" tabindex="-1"></a><span class="do">## get overall mean</span></span>
<span id="cb454-2"><a href="comparing-multiple-groups.html#cb454-2" aria-hidden="true" tabindex="-1"></a>overall.mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(resume<span class="sc">$</span>call)</span>
<span id="cb454-3"><a href="comparing-multiple-groups.html#cb454-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb454-4"><a href="comparing-multiple-groups.html#cb454-4" aria-hidden="true" tabindex="-1"></a><span class="do">## get means for each group</span></span>
<span id="cb454-5"><a href="comparing-multiple-groups.html#cb454-5" aria-hidden="true" tabindex="-1"></a>group.means <span class="ot">&lt;-</span> <span class="fu">tapply</span>(resume<span class="sc">$</span>call, resume<span class="sc">$</span>racegender, mean)</span>
<span id="cb454-6"><a href="comparing-multiple-groups.html#cb454-6" aria-hidden="true" tabindex="-1"></a>group.means</span></code></pre></div>
<pre><code>##   White Male Black Female   Black Male White Female 
##   0.08869565   0.06627784   0.05828780   0.09892473</code></pre>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb456-1"><a href="comparing-multiple-groups.html#cb456-1" aria-hidden="true" tabindex="-1"></a><span class="do">## get sd for each group</span></span>
<span id="cb456-2"><a href="comparing-multiple-groups.html#cb456-2" aria-hidden="true" tabindex="-1"></a>group.sd <span class="ot">&lt;-</span> <span class="fu">tapply</span>(resume<span class="sc">$</span>call, resume<span class="sc">$</span>racegender, sd)</span>
<span id="cb456-3"><a href="comparing-multiple-groups.html#cb456-3" aria-hidden="true" tabindex="-1"></a>group.sd</span></code></pre></div>
<pre><code>##   White Male Black Female   Black Male White Female 
##    0.2845515    0.2488331    0.2345005    0.2986412</code></pre>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb458-1"><a href="comparing-multiple-groups.html#cb458-1" aria-hidden="true" tabindex="-1"></a><span class="do">## get N for each group</span></span>
<span id="cb458-2"><a href="comparing-multiple-groups.html#cb458-2" aria-hidden="true" tabindex="-1"></a>group.n <span class="ot">&lt;-</span> <span class="fu">tapply</span>(resume<span class="sc">$</span>call, resume<span class="sc">$</span>racegender, length)</span>
<span id="cb458-3"><a href="comparing-multiple-groups.html#cb458-3" aria-hidden="true" tabindex="-1"></a>group.n</span></code></pre></div>
<pre><code>##   White Male Black Female   Black Male White Female 
##          575         1886          549         1860</code></pre>
<p>In ANOVA, we compare each group mean’s deviation from the overall mean and calculate the sum of these squared deviations multiplied by the group size (Sum of Squares).</p>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb460-1"><a href="comparing-multiple-groups.html#cb460-1" aria-hidden="true" tabindex="-1"></a><span class="do">## sum the deviations of y_i from the overall mean</span></span>
<span id="cb460-2"><a href="comparing-multiple-groups.html#cb460-2" aria-hidden="true" tabindex="-1"></a>sum.sqtot <span class="ot">&lt;-</span> <span class="fu">sum</span>((resume<span class="sc">$</span>call <span class="sc">-</span> overall.mean)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb460-3"><a href="comparing-multiple-groups.html#cb460-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb460-4"><a href="comparing-multiple-groups.html#cb460-4" aria-hidden="true" tabindex="-1"></a><span class="do">## look at the group standard deviations</span></span>
<span id="cb460-5"><a href="comparing-multiple-groups.html#cb460-5" aria-hidden="true" tabindex="-1"></a>error.ss <span class="ot">&lt;-</span> <span class="fu">sum</span>(((group.n <span class="sc">-</span><span class="dv">1</span>) <span class="sc">*</span> group.sd<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb460-6"><a href="comparing-multiple-groups.html#cb460-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb460-7"><a href="comparing-multiple-groups.html#cb460-7" aria-hidden="true" tabindex="-1"></a><span class="do">## subtract these group errors from the total squared errors</span></span>
<span id="cb460-8"><a href="comparing-multiple-groups.html#cb460-8" aria-hidden="true" tabindex="-1"></a>group.ss <span class="ot">&lt;-</span> sum.sqtot <span class="sc">-</span> error.ss  </span>
<span id="cb460-9"><a href="comparing-multiple-groups.html#cb460-9" aria-hidden="true" tabindex="-1"></a><span class="do">## alternative:</span></span>
<span id="cb460-10"><a href="comparing-multiple-groups.html#cb460-10" aria-hidden="true" tabindex="-1"></a>group.ss2 <span class="ot">&lt;-</span> <span class="fu">sum</span>(group.n <span class="sc">*</span>(group.means <span class="sc">-</span> overall.mean)<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb460-11"><a href="comparing-multiple-groups.html#cb460-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb460-12"><a href="comparing-multiple-groups.html#cb460-12" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb460-13"><a href="comparing-multiple-groups.html#cb460-13" aria-hidden="true" tabindex="-1"></a><span class="do">## degrees of freedom </span></span>
<span id="cb460-14"><a href="comparing-multiple-groups.html#cb460-14" aria-hidden="true" tabindex="-1"></a>Total_df <span class="ot">&lt;-</span> <span class="fu">nrow</span>(resume) <span class="sc">-</span> <span class="dv">1</span></span>
<span id="cb460-15"><a href="comparing-multiple-groups.html#cb460-15" aria-hidden="true" tabindex="-1"></a>Error_df <span class="ot">&lt;-</span> <span class="fu">nrow</span>(resume) <span class="sc">-</span> <span class="fu">length</span>(group.n)</span>
<span id="cb460-16"><a href="comparing-multiple-groups.html#cb460-16" aria-hidden="true" tabindex="-1"></a>Group_df <span class="ot">&lt;-</span> Total_df <span class="sc">-</span> Error_df</span>
<span id="cb460-17"><a href="comparing-multiple-groups.html#cb460-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb460-18"><a href="comparing-multiple-groups.html#cb460-18" aria-hidden="true" tabindex="-1"></a><span class="do">## find means</span></span>
<span id="cb460-19"><a href="comparing-multiple-groups.html#cb460-19" aria-hidden="true" tabindex="-1"></a>MS_Error <span class="ot">&lt;-</span> error.ss<span class="sc">/</span>Error_df</span>
<span id="cb460-20"><a href="comparing-multiple-groups.html#cb460-20" aria-hidden="true" tabindex="-1"></a>MS_Group <span class="ot">&lt;-</span> group.ss<span class="sc">/</span>Group_df</span>
<span id="cb460-21"><a href="comparing-multiple-groups.html#cb460-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb460-22"><a href="comparing-multiple-groups.html#cb460-22" aria-hidden="true" tabindex="-1"></a><span class="do">## calculate F</span></span>
<span id="cb460-23"><a href="comparing-multiple-groups.html#cb460-23" aria-hidden="true" tabindex="-1"></a>F_value <span class="ot">&lt;-</span> MS_Group <span class="sc">/</span> MS_Error</span>
<span id="cb460-24"><a href="comparing-multiple-groups.html#cb460-24" aria-hidden="true" tabindex="-1"></a>F_value</span></code></pre></div>
<pre><code>## [1] 5.972606</code></pre>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb462-1"><a href="comparing-multiple-groups.html#cb462-1" aria-hidden="true" tabindex="-1"></a><span class="do">## compare to ANOVA</span></span>
<span id="cb462-2"><a href="comparing-multiple-groups.html#cb462-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(aov.all)</span></code></pre></div>
<pre><code>##               Df Sum Sq Mean Sq F value   Pr(&gt;F)    
## racegender     3    1.3  0.4408   5.973 0.000464 ***
## Residuals   4866  359.1  0.0738                     
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
</details>
<p>This is equivalent to the F-test reported in a regression. In a regression the F-test assesses if the addition of one or more of the predictors improves the model fit relative to a model that only has the intercept and no predictors, where the prediction ends up just being the mean. The null hypothesis is that all of the slopes: <span class="math inline">\(H_o: \beta_1 = \beta_2 = \beta_3 = 0\)</span>.</p>
<div class="sourceCode" id="cb464"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb464-1"><a href="comparing-multiple-groups.html#cb464-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(reg.all)<span class="sc">$</span>fstatistic</span></code></pre></div>
<pre><code>##       value       numdf       dendf 
##    5.972606    3.000000 4866.000000</code></pre>
<p>These tests do not tell you where the significant difference is, just that there is a significant difference.</p>
<p>A benefit of ANOVA, is that you can run post-hoc pairwise comparisons that adjust for multiple testing. One such test is the Tukey test. See <a href="https://rpubs.com/aaronsc32/post-hoc-analysis-tukey">here</a> for details.</p>
<div class="sourceCode" id="cb466"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb466-1"><a href="comparing-multiple-groups.html#cb466-1" aria-hidden="true" tabindex="-1"></a><span class="fu">TukeyHSD</span>(aov.all)</span></code></pre></div>
<pre><code>##   Tukey multiple comparisons of means
##     95% family-wise confidence level
## 
## Fit: aov(formula = call ~ racegender, data = resume)
## 
## $racegender
##                                   diff          lwr        upr     p adj
## Black Female-White Male   -0.022417815 -0.055676650 0.01084102 0.3069770
## Black Male-White Male     -0.030407856 -0.072067835 0.01125212 0.2385995
## White Female-White Male    0.010229079 -0.023084023 0.04354218 0.8594370
## Black Male-Black Female   -0.007990041 -0.041847039 0.02586696 0.9300509
## White Female-Black Female  0.032646894  0.009832311 0.05546148 0.0013600
## White Female-Black Male    0.040636935  0.006726627 0.07454724 0.0112033</code></pre>
<p>Now just as we did before, we may want to run versions of these tests that account for the dichotomous nature of our outcomes.</p>
<p>For a comparison of multiple groups and a dichotomous outcome, we can continue to run the <code>chisq.test</code>:</p>
<div class="sourceCode" id="cb468"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb468-1"><a href="comparing-multiple-groups.html#cb468-1" aria-hidden="true" tabindex="-1"></a>chi.all <span class="ot">&lt;-</span> <span class="fu">chisq.test</span>(<span class="fu">table</span>(resume<span class="sc">$</span>racegender, resume<span class="sc">$</span>call))</span>
<span id="cb468-2"><a href="comparing-multiple-groups.html#cb468-2" aria-hidden="true" tabindex="-1"></a>chi.all</span></code></pre></div>
<pre><code>## 
##  Pearson&#39;s Chi-squared test
## 
## data:  table(resume$racegender, resume$call)
## X-squared = 17.867, df = 3, p-value = 0.0004686</code></pre>
<p>Like with ANOVA, this tells us there is a significant difference– but not where that significant difference is. Over the years, there have been different implementations of post-hoc pairwise comparison tests for the Chi-squared tests. Like before, you can also run your own individual pairwise prop.tests in R. If you have several comparisons, however, you may want to adjust the p-values manually, too. See this EGAP <a href="https://egap.org/resource/10-things-to-know-about-multiple-comparisons/">resource</a> and the <code>p.adjust</code> function discussed in Section 7.2.1 of our <a href="https://ktmccabe.github.io/experiments/clustering-standard-errors.html">notes</a>.</p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="proportion-tests.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="even-more-tests.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
